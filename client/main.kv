#:include screens/login/login.kv
#:include screens/feed/feed.kv
#:include screens/post/post.kv
#:include screens/messages/messages.kv
#:include screens/notifications/notifications.kv


#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import images_path kivymd.images_path
#:import colors kivymd.color_definitions.colors
#:import partial functools.partial
#:import NoTransition kivy.uix.screenmanager.NoTransition
# :import MDCarousel kivymd.uix.carousel.MDCarousel






## CLASS DEFS

<MyBoxLayout>:
    orientation: "vertical"
    pos_hint: {'center_x':0.5, 'center_y':0.5}
    size_hint:0.5,0.5
    padding:'10dp'
    md_bg_color:0,0,0,1
    canvas:
        Color:
            rgb: 1,0,0,2
        Line:
            width: 1
            rectangle: (self.x, self.y, self.width, self.height)


<MyLabel>:
    theme_text_color: 'Custom'
    text_color: (1,0,0,1)
    pos_hint: {'center_y': 0.5}
    halign: 'center'
    height: self.texture_size[1]
    font_family: 'Courier'








### LAYOUT

MyLayout:
    scr_mngr: scr_mngr
    orientation: 'vertical'
    height: self.minimum_height

    canvas:
        Color:
            rgba: 0.925,0.925,0.925,1 #get_color_from_hex(colors['Gray']['900'])
        
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/komrade2.png'
    

    MDToolbar:
        id: toolbar
        title: app.title
        pos_hint: {'center_x': .5, 'center_y': 0.95}
        md_bg_color: 0.1,0.1,0.1,1
        background_palette: 'Red'
        background_hue: '500'
        specific_text_color: 1,0,0,1
        right_action_items: [['post-outline', partial(root.change_screen, 'feed')], ['pencil-plus-outline', partial(root.change_screen, 'post')], ['message-processing-outline', partial(root.change_screen, 'messages')], ['bell-outline', partial(root.change_screen, 'notifications')], ['account-circle-outline', partial(root.change_screen, 'notifications')]]
        #left_action_items: [[f"assets/fist2.png", partial(root.change_screen, 'feed')]]
        font_context: None
        font_name: f'assets/Strengthen.ttf'


    ScreenManager:
        id: scr_mngr
        # transition: NoTransition()

        LoginScreen:
        FeedScreen:

        AddPostScreen:
            id: add_post_screen
        
        MessagesScreen:
        NotificationsScreen:
